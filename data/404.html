<!doctype html>
<html>
<head><meta charset="utf-8"><title>No disponible</title></head>
<body>
<script>
(function () {
  var path = (location.pathname || "").toLowerCase();
  var isBlocked = /\/(evaluaciones|salarios)\/?$/.test(path);

  // Si NO es evaluaciones/salarios, dejá el 404 normal (o redirigí a home si querés)
  if (!isBlocked) return;

  var backTo = "";
  try { backTo = localStorage.getItem("last_allowed_url") || ""; } catch (e) {}

  // Mensaje + volver
  document.body.innerHTML = `
    <div style="max-width:720px;margin:80px auto;padding:0 16px;text-align:center;font-family:Arial">
      <h2 style="margin:0 0 12px">Sección no disponible</h2>
      <p style="margin:0 0 18px">Las evaluaciones y salarios no se pueden ver desde este sitio.</p>
      <button id="btnVolver" style="padding:10px 16px;border:1px solid #ccc;border-radius:10px;background:#f7f7f7;cursor:pointer">
        Volver a la oferta
      </button>
    </div>
  `;

  function goBack() {
    // 1) Mejor opción: última página válida guardada (funciona aunque se abra en otra pestaña)
    if (backTo && backTo !== location.href) return location.replace(backTo);

    // 2) Fallback: referrer (si está)
    if (document.referrer) return location.replace(document.referrer);

    // 3) Fallback final
    location.replace("/");
  }

  document.getElementById("btnVolver").addEventListener("click", goBack);
  setTimeout(goBack, 250);
})();
</script>
</body>
</html>
